## 第四章 表达式

### 4.1 基础

#### 4.1.1 基本概念

- 重载运算符：C++语言定义了运算符作用于内置类型和复合类型的运算对象时所执行的操作。当运算符作用于类类型的运算对象时，用户可以自定义其含义。因为这种自定义的过程事实上是为已存在的运算符赋予了另外一层含义。IO库的`>>`和`<<`运算符以及`vector`对象、`string`对象和迭代器使用的运算符都是重载运算符。
- 左值和右值：这里有点蒙蔽。
  - 当一个对象被用作右值时，用的是对象的值（内容）；当对象被当做左值时，用的是对象的身份（在内存中的位置）。

#### 4.1.3 求值顺序

- 有四种运算符明确规定了运算对象的求值顺序。
  - `&&`运算符规定先求左侧对象的值，只有当左侧对象的值为真时才继续求右侧对象的值。
  - `||`
  - `?:`
  - `,`
- 处理复合表达式时，两条建议
  - 拿不准的时候最好用括号来强制让表达式的组合关系复合逻辑要求。
  - 如果改变了某个运算对象的值，在表达式的其他地方不要在使用这个运算对象。

### 4.2 算数运算符

- 一元运算符的优先级最高，其次是乘法和除法，优先级最低的是加法和减法。
- 算数运算符的运算对象和求值结果都是右值。
- 在表达式求值之前，小整数类型的运算对象被提升为较大的整数类型，所有运算对象最终会转换成同一类型。
- 参与取余运算的对象必须是整数类型。
- C++11 新标准规定商一律向0取整。
- `(-m) / n`和`m / (-n)` 都等于`-(m / n)`。而`m %(-n)`等于`m % n`，`(-m) % n`等于`-(m % n)`

### 4.3 逻辑运算符

- 短路求值：
  - 逻辑与：当且仅当左侧运算对象为真时才对右侧运算对象求值。
  - 逻辑或：当且仅当左侧运算对象为假时才对右侧运算对象求值。

### 4.4 赋值运算符

- 赋值运算符的左侧运算对象必须是一个可修改的左值。
- ​

