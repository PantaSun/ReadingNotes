要想写一个ls命令有三个要点需要掌握：

- 如何列出目录的内容
- 如何读取并显示文件的属性
- 给出一个名字如何判断是文件还是目录



#### 文件树

在Unix中目录和文件被组成一棵树放在磁盘上，树中的每个节点都是目录或文件。

#### 目录是什么

目录其实就是一个特殊的文件，在`Unix`理念中，一切皆文件。目录文件中包含很多记录，每个记录由统一的标准。每条记录代表一个文件或目录。

与普通文件不同，目录文件永远不会空，因为每个目录文件至少包含两个特殊的项：“.”（表示当前目录）和“..”（表示上一级目录）

因为目录是文件所以可以使用`close`、`open`和`read`来操作目录。但当使用`more`来操作目录时，会显示目标是一个目录而不会显示文件详细内容。

虽然可以使用`read`来读目录，但是由于`Unix`支持多种目录格式，若用`read`来读就需要了解很多目录格式，因此可以使用专门的读取目录的函数`readdir`来读取。相应的打开目录文件使用的是`opendir`函数。关闭目录文件使用`closedir`。



