---
title: 第5章 保护模式进阶，向内核迈进
date: 2019-03-25 15:52:25
tags: 
- 操作系统
categories:
- Reading notes
- 自己动手写操作系统
---

## 获取内存容量

### 获取内存的方法

使用BIOS中断0x15，该中断有三个子功能，子功能号要放在寄存器eax和ax中：

- eax=0xe820：遍历主机上全部内存
- ax=0xe801：分别检测低15mb和16mb～4gb的内存，最大支持4gb
- ah=0x88：最多检测出64mb内存，时机内存超过此容量也按照64mb返回。

