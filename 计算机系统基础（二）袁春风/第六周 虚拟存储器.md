## 分页存储的基本概念

### 早期分页

基本思想：把地址空间和主存容量的概念区分开来。程序员在地址空间里编写程序，而程序则在真正的内存中运行。由一个专门的机制实现地址空间和主存之间的映射。

例如：一个计算机的指令中给出的主存地址为16位，而实际主存容量只有4K字，则指令可寻址范围是多少2？

地址空间为0到2的16次方，而实际主存大小只有4096个地址，因此地址空间远大于实际主存。这时可以将地址空间划分成一个个大小为主存大小的区间。

在执行到某个区间，把该区间的地址自动映射到0-4095之间。而对程序员来说，可以在0-65535范围内写程序，完全不用管在多大的主存空间上执行。

这个区间后来被称为页（page），主存中存放页的区域被称为页框（page frame），早期只有一个页框。

### 分页（Paging）

#### 基本思想

- 内存被分为固定长且比较小的存储块（页框、实页、物理页）
- 每个进程也被划分成固定长的程序块（页、虚页、逻辑页）
- 程序块可以装到存储器中可用的存储块中
- 无需用连续页框来存放一个进程
- 操作系统为每个进程生成一个页表
- 通过页表（page table）实现了逻辑地址向物理地址转换（Address Mapping）



根据程序访问的局部性：可把当前活跃的页面调入主存，其余的留在磁盘上

**采用“按需调页Demand Paging”方式分配主存！**这就是虚拟存储管理概念



## 虚拟存储器及虚拟地址空间

### 虚拟存储技术的实质

- 程序员可以在比实际主存空间大得多的逻辑地址空间中编写程序
- 程序执行时，把当前需要的程序段和相应的数据块调入主存，其他暂时不用的部分存放在磁盘上。
  - 通过页表建立虚拟空间和物理空间之间的映射！
  - 每一个进程都有一页表，每一个页表都对进程的虚拟空间中的每一页都要进行说明，或者说该页在磁盘上，或者说该页在主存上的具体位置，或者说是一个空页。
  - 指令执行时，通过**硬件**将逻辑地址（也称虚拟地址或虚地址）转换为物理地址（也称主存地址或实地址）
  - 在发生程序或数据失效（缺页）时，由操作系统实现主存可磁盘之间的信息交换。

 